{% extends "base.html" %}
{% block content %}
<h3 class="mb-4">Vendas</h3>
<form method="get" class="row g-2 mb-4">
  <div class="col-md-3">
    <input type="date" name="data_inicio" value="{{ data_inicio }}" class="form-control">
  </div>
  <div class="col-md-3">
    <input type="date" name="data_fim" value="{{ data_fim }}" class="form-control">
  </div>
  <div class="col-md-2">
    <button class="btn btn-primary w-100">Filtrar</button>
  </div>
</form>

<table class="table table-striped">
<thead>
<tr>
  <th>Data</th>
  <th>Produto</th>
  <th>Qtd</th>
  <th>Receita</th>
  <th>Custo</th>
  <th>Lucro Liq.</th>
</tr>
</thead>
<tbody>
{% for v in vendas %}
<tr>
  <td>{{ v.data_venda }}</td>
  <td>{{ v.nome }}</td>
  <td>{{ v.quantidade }}</td>
  <td>R$ {{ v.receita_total }}</td>
  <td>R$ {{ v.custo_total }}</td>
  <td>R$ {{ (v.margem_contribuicao - ((v.receita_total - v.custo_total) - v.margem_contribuicao))|round(2) }}</td>
</tr>
{% endfor %}
</tbody>
</table>
{% endblock %}
